\documentclass[../../../thesis]{subfiles}


\begin{document}

\begin{appendices}

\appendixpageoff

%----------------------------------------------------------------------------------------
%	Phụ lục A: Giải thích các trường metadata
%----------------------------------------------------------------------------------------

\chapter{Giải thích các trường metadata}\label{app:metadata}

Mô hình xuất bản của truyện tranh siêu anh hùng phương Tây là phức tạp nhất. Lí
do là các nhân vật không đổi trong hàng chục năm xuất bản nhưng cốt truyện không
ngừng được thêm mới, hoặc thậm chí viết lại; khác với các truyện tranh khác luôn
đi đến hồi kết. Do đó, các thông tin của kiểu truyện tranh này được chọn để
thiết kế các định dạng metadata.

Ta xét một tập truyện \texttt{Wolverine\ 1982(1)\ \#1}:

\begin{verbatim}
    Wolverine 1982(1) #1
    │         │       └─ Tập truyện số (Number)
    │         └─ Volume
    └─ Bộ truyện (Series)
\end{verbatim}

Chú ý ở đây không có \emph{tiêu đề} (ta sẽ quay lại điểm này sau). Trước hết các
thành phần trong tên tập truyện trên gồm:

\begin{itemize}
    \item
        \emph{Bộ truyện}: Tên bộ truyện. Một bộ truyện gồm nhiều tập truyện.
    \item
        \emph{Tập truyện số}: Thể hiện số thứ tự xuất bản của tệp truyện, tương
        tự như chương trong manga. Từng tập truyện lẻ còn có thể có tên riêng.
    \item
        \emph{Volume}: Các bộ truyện có thể trùng tên, do đó cần con số này để
        phân biệt. Số này có thể là năm xuất bản hoặc lần xuất bản.
\end{itemize}

Số Volume cần thiết vì có rất nhiều bộ truyện cùng tên như sau:

\begin{itemize}
    \item
        Có một bộ Wolverine ngắn gồm 4 tập, xuất bản năm 1982
    \item
        Có một bộ Wolverine gồm nhiều tập, xuất bản từ 1989 đến 2003
    \item
        Có một bộ Wolverine gồm nhiều tập, xuất bản từ 2003 đến 2010
\end{itemize}

Các bộ Wolverine trên đều có nội dung khác nhau, thậm chí cũng không cùng dòng
thời gian, không cùng tác giả để có thể gom lại. Nhưng chúng cùng dùng một tên
bộ truyện (là tên nhân vật chính), đều có những tập truyện số 1, 2, 3, 4. Số
Volume là cách duy nhất để phân biệt ba bộ truyện này.

Số Volume thường là số của lần xuất bản, nhưng cũng có thể là số của năm xuất
bản trong trường hợp bộ truyện được xuất bản trong một năm.

Ngoài ra, một số định dạng metadata còn có số Count, chỉ số tập truyện trong một
bộ truyện:

\begin{itemize}
    \item
        Bộ Wolverine đầu tiên được gọi là ``ngắn'' (miniseries) vì nhà xuất bản
        xác định và thông báo trước rằng chỉ có bốn tập truyện. Do đó, số Count
        là 4.
    \item
        Hai bộ còn lại được coi là ``dài'' (on-going), do không xác định số tập
        truyện từ đầu. Do đó, số Count có thể để trống.
\end{itemize}

Ta quay lại vấn đề về \emph{tiêu đề}. Tiêu đề có thể nói giống như tên của
chương truyện, lại chỉ phổ biến trong truyện tranh Nhật, hoặc ít nhất là không
phổ biến trong đặt tên truyện tranh siêu anh hùng phương Tây.


%----------------------------------------------------------------------------------------
%	Phụ lục B: Lược đồ XSD ComicInfo
%----------------------------------------------------------------------------------------

\chapter{Lược đồ XSD ComicInfo}\label{app:comic-info-xsd}

Phụ lục này trình bày phiên bản rút gọn của lược đồ XSD của định dạng metadata
ComicInfo. Định dạng này được lưu trong một tệp có tên \texttt{ComicInfo.xml}.
Các trường nêu trong \autoref{app:metadata} đều được chứa trong định dạng này,
ngoài ra còn có các trường về tác giả và nhân vật.

% Somehow doesn't work
% \inputminted{xml}{../assets/ComicInfo.xsd}

\begin{minted}{xml}
<?xml version="1.0" encoding="utf-8"?>
<xs:schema elementFormDefault="qualified"
  xmlns:xs="http://www.w3.org/2001/XMLSchema">
<xs:element name="ComicInfo" nillable="true" type="ComicInfo" />
<xs:complexType name="ComicInfo">
  <xs:sequence>
    <xs:element name="Title"  type="xs:string" />
    <xs:element name="Series" type="xs:string" />
    <xs:element name="Number" type="xs:string" />
    <xs:element name="Count"  type="xs:int" default="-1" />
    <xs:element name="Volume" type="xs:int" default="-1" />
    <xs:element name="Summary" type="xs:string" />
    <xs:element name="Year"   type="xs:int" default="-1" />
    <xs:element name="Month"  type="xs:int" default="-1" />
    <xs:element name="Writer" type="xs:string" />
    <xs:element name="Publisher" type="xs:string" />
    <xs:element name="Genre"  type="xs:string" />
  </xs:sequence>
</xs:complexType>
</xs:schema>
\end{minted}

\end{appendices}

\end{document}
